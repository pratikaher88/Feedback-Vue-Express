{"remainingRequest":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pratikaher/VueProjects/feedbackfrontend/src/components/Cropper.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/src/components/Cropper.vue","mtime":1611393719904},{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltZyB7CiAgbWF4LXdpZHRoOiAxMDAlOyAvKiBUaGlzIHJ1bGUgaXMgdmVyeSBpbXBvcnRhbnQsIHBsZWFzZSBkbyBub3QgaWdub3JlIHRoaXMhICovCn0KCiNwcmV2aWV3IHsKICB3aWR0aDogIDI1NnB4OwogIGhlaWdodDogMTQ0cHg7CiAgYm9yZGVyOiAxcHggc29saWQ7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwp9CgouaW1hZ2Utd3JhcHBlciB7CiAgd2lkdGg6IDYwMHB4OyAKICBoZWlnaHQ6IGF1dG87IAogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoK"},{"version":3,"sources":["Cropper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Cropper.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"image-wrapper\"> \n    <img id=\"image\" :src=\"imageSrc\"> \n    </div>  \n    <canvas id=\"preview\"></canvas> \n    <br> \n    <button id=\"crop\" @click=\"onCrop($event)\">Crop</button> \n    <input type=\"file\" id=\"select-image\" accept=\"image/*\" @change=\"onSelectImage($event)\"> \n    </div>\n</template>\n\n<script>\nimport Cropper from 'cropperjs';\n\nvar data = { \n  coords: { x: 0, y: 0, width: 0, height: 0, rotate: 0, scaleX: 0, scaleY: 0 },\n  imageSrc: 'https://i.imgur.com/fHyEMsl.jpg',\n  cropper: null\n}\n\nexport default {\n  name: 'Cropper',\n\n  data() {\n      return data;\n  },\n\n  methods: {\n    onSelectImage: function($event) {\n      let img = $event.target.files[0];\n      let tmppath = URL.createObjectURL(img);\n      data.imageSrc = tmppath;\n      \n      data.cropper.replace(data.imageSrc);\n    },\n    onCrop: function($event) {\n      console.log($event)\n      //https://stackoverflow.com/questions/35613799/change-image-object-dimensions-width-and-height\n      let canvas = document.getElementById('preview');\n      let ctx = canvas.getContext('2d');\n      let img = new Image();\n      img.src = data.imageSrc;\n      \n      canvas.width  = img.width;\n      canvas.height = img.height;\n      \n      let w = img.width;\n      let h = img.height;\n\n      // resize img to fit in the canvas \n      // You can alternately request img to fit into any specified width/height\n      let sizer = this.scalePreserveAspectRatio(w, h, canvas.width, canvas.height);\n      \n      ctx.drawImage(img, data.coords.x, data.coords.y, data.coords.width, data.coords.height, 0, 0, w * sizer, h * sizer);\n    },\n    scalePreserveAspectRatio: function(imgW, imgH, maxW, maxH) {\n      return(Math.min((maxW / imgW), (maxH / imgH)));\n    }\n\n  },\n  mounted: function() {\n    let image    = document.getElementById('image');\n    data.cropper = new Cropper(image, {\n      aspectRatio: 16 / 9,\n      crop(e) {\n        data.coords.x = e.detail.x;\n        data.coords.y = e.detail.y;\n        data.coords.width = e.detail.width;\n        data.coords.height = e.detail.height;\n        data.coords.rotate = e.detail.rotate;\n        data.coords.scaleX = e.detail.scaleX;\n        data.coords.scaleY = e.detail.scaleY;\n      }\n    });\n  }\n\n}\n\n</script>\n\n<style>\nimg {\n  max-width: 100%; /* This rule is very important, please do not ignore this! */\n}\n\n#preview {\n  width:  256px;\n  height: 144px;\n  border: 1px solid;\n  display: inline-block;\n}\n\n.image-wrapper {\n  width: 600px; \n  height: auto; \n  display: inline-block;\n}\n\n</style>\n"]}]}