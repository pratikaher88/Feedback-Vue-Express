{"remainingRequest":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/babel-loader/lib/index.js!/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pratikaher/VueProjects/feedbackfrontend/src/components/STT.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/src/components/STT.vue","mtime":1611069983267},{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pratikaher/VueProjects/feedbackfrontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBTcGVlY2hSZWNvZ25pdGlvbiA9IHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiB8fCB3aW5kb3cud2Via2l0U3BlZWNoUmVjb2duaXRpb247CnZhciByZWNvZ25pdGlvbiA9IFNwZWVjaFJlY29nbml0aW9uID8gbmV3IFNwZWVjaFJlY29nbml0aW9uKCkgOiBmYWxzZTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTcGVlY2gyVGV4dCcsCiAgcHJvcHM6IHsKICAgIGxhbmc6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnZW4tVVMnCiAgICB9LAogICAgdGV4dDogewogICAgICB0eXBlOiBbU3RyaW5nLCBudWxsXSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvcjogZmFsc2UsCiAgICAgIHNwZWFraW5nOiBmYWxzZSwKICAgICAgdG9nZ2xlOiBmYWxzZSwKICAgICAgcnVudGltZVRyYW5zY3JpcHRpb246ICcnLAogICAgICBzZW50ZW5jZXM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tDb21wYXRpYmlsaXR5OiBmdW5jdGlvbiBjaGVja0NvbXBhdGliaWxpdHkoKSB7CiAgICAgIGlmICghcmVjb2duaXRpb24pIHsKICAgICAgICB0aGlzLmVycm9yID0gJ1NwZWVjaCBSZWNvZ25pdGlvbiBpcyBub3QgYXZhaWxhYmxlIG9uIHRoaXMgYnJvd3Nlci4gUGxlYXNlIHVzZSBDaHJvbWUgb3IgRmlyZWZveCc7CiAgICAgIH0KICAgIH0sCiAgICBlbmRTcGVlY2hSZWNvZ25pdGlvbjogZnVuY3Rpb24gZW5kU3BlZWNoUmVjb2duaXRpb24oKSB7CiAgICAgIHJlY29nbml0aW9uLnN0b3AoKTsKICAgICAgdGhpcy50b2dnbGUgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgnc3BlZWNoZW5kJywgewogICAgICAgIHNlbnRlbmNlczogdGhpcy5zZW50ZW5jZXMsCiAgICAgICAgdGV4dDogdGhpcy5zZW50ZW5jZXMuam9pbignLiAnKQogICAgICB9KTsKICAgIH0sCiAgICBzdGFydFNwZWVjaFJlY29nbml0aW9uOiBmdW5jdGlvbiBzdGFydFNwZWVjaFJlY29nbml0aW9uKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCFyZWNvZ25pdGlvbikgewogICAgICAgIHRoaXMuZXJyb3IgPSAnU3BlZWNoIFJlY29nbml0aW9uIGlzIG5vdCBhdmFpbGFibGUgb24gdGhpcyBicm93c2VyLiBQbGVhc2UgdXNlIENocm9tZSBvciBGaXJlZm94JzsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMudG9nZ2xlID0gdHJ1ZTsKICAgICAgcmVjb2duaXRpb24ubGFuZyA9IHRoaXMubGFuZzsKICAgICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSB0cnVlOwogICAgICByZWNvZ25pdGlvbi5hZGRFdmVudExpc3RlbmVyKCdzcGVlY2hzdGFydCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLnNwZWFraW5nID0gdHJ1ZTsKICAgICAgfSk7CiAgICAgIHJlY29nbml0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NwZWVjaGVuZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLnNwZWFraW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgICByZWNvZ25pdGlvbi5hZGRFdmVudExpc3RlbmVyKCdyZXN1bHQnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB2YXIgdGV4dCA9IEFycmF5LmZyb20oZXZlbnQucmVzdWx0cykubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIHJldHVybiByZXN1bHRbMF07CiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIHJldHVybiByZXN1bHQudHJhbnNjcmlwdDsKICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgICBfdGhpcy5ydW50aW1lVHJhbnNjcmlwdGlvbiA9IHRleHQ7CgogICAgICAgIF90aGlzLiRlbWl0KCdzZW50VGV4dHMnLCBfdGhpcy5ydW50aW1lVHJhbnNjcmlwdGlvbik7CiAgICAgIH0pOwogICAgICByZWNvZ25pdGlvbi5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLnJ1bnRpbWVUcmFuc2NyaXB0aW9uICE9PSAnJykgewogICAgICAgICAgX3RoaXMuc2VudGVuY2VzLnB1c2goX3RoaXMuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKF90aGlzLnJ1bnRpbWVUcmFuc2NyaXB0aW9uKSk7CgogICAgICAgICAgX3RoaXMuJGVtaXQoJ3VwZGF0ZTp0ZXh0JywgIiIuY29uY2F0KF90aGlzLnRleHQpLmNvbmNhdChfdGhpcy5zZW50ZW5jZXMuc2xpY2UoLTEpWzBdLCAiLiAiKSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5ydW50aW1lVHJhbnNjcmlwdGlvbiA9ICcnOwogICAgICAgIHJlY29nbml0aW9uLnN0b3AoKTsgLy8gaWYgKHRoaXMudG9nZ2xlKSB7CiAgICAgICAgLy8gICAvLyBrZWVwIGl0IGdvaW5nLgogICAgICAgIC8vICAgcmVjb2duaXRpb24uc3RhcnQoKQogICAgICAgIC8vIH0KICAgICAgfSk7CiAgICAgIHJlY29nbml0aW9uLnN0YXJ0KCk7CiAgICB9LAogICAgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyOiBmdW5jdGlvbiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoc3RyaW5nKSB7CiAgICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5jaGVja0NvbXBhdGliaWxpdHkoKTsKICB9Cn07"},{"version":3,"sources":["STT.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,IAAA,iBAAA,GAAA,MAAA,CAAA,iBAAA,IAAA,MAAA,CAAA,uBAAA;AACA,IAAA,WAAA,GAAA,iBAAA,GAAA,IAAA,iBAAA,EAAA,GAAA,KAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,IAAA,CADA;AAEA,MAAA,QAAA,EAAA;AAFA;AALA,GAFA;AAYA,EAAA,IAZA,kBAYA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,MAAA,EAAA,KAHA;AAIA,MAAA,oBAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA;AALA,KAAA;AAOA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,gCACA;AACA,UAAA,CAAA,WAAA,EAAA;AACA,aAAA,KAAA,GAAA,mFAAA;AACA;AACA,KALA;AAMA,IAAA,oBANA,kCAMA;AACA,MAAA,WAAA,CAAA,IAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,WAAA,EAAA;AACA,QAAA,SAAA,EAAA,KAAA,SADA;AAEA,QAAA,IAAA,EAAA,KAAA,SAAA,CAAA,IAAA,CAAA,IAAA;AAFA,OAAA;AAIA,KAbA;AAcA,IAAA,sBAdA,oCAcA;AAAA;;AACA,UAAA,CAAA,WAAA,EAAA;AACA,aAAA,KAAA,GAAA,mFAAA;AACA,eAAA,KAAA;AACA;;AACA,WAAA,MAAA,GAAA,IAAA;AACA,MAAA,WAAA,CAAA,IAAA,GAAA,KAAA,IAAA;AACA,MAAA,WAAA,CAAA,cAAA,GAAA,IAAA;AAEA,MAAA,WAAA,CAAA,gBAAA,CAAA,aAAA,EAAA,YAAA;AACA,aAAA,QAAA,GAAA,IAAA;AACA,OAFA;AAIA,MAAA,WAAA,CAAA,gBAAA,CAAA,WAAA,EAAA,YAAA;AACA,aAAA,QAAA,GAAA,KAAA;AACA,OAFA;AAIA,MAAA,WAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,GAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,OAAA,EAAA,GAAA,CAAA,UAAA,MAAA;AAAA,iBAAA,MAAA,CAAA,CAAA,CAAA;AAAA,SAAA,EAAA,GAAA,CAAA,UAAA,MAAA;AAAA,iBAAA,MAAA,CAAA,UAAA;AAAA,SAAA,EAAA,IAAA,CAAA,EAAA,CAAA;AACA,QAAA,KAAA,CAAA,oBAAA,GAAA,IAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,WAAA,EAAA,KAAA,CAAA,oBAAA;AACA,OAJA;AAMA,MAAA,WAAA,CAAA,gBAAA,CAAA,KAAA,EAAA,YAAA;AACA,YAAA,KAAA,CAAA,oBAAA,KAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,KAAA,CAAA,qBAAA,CAAA,KAAA,CAAA,oBAAA,CAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,aAAA,YAAA,KAAA,CAAA,IAAA,SAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA;;AACA,QAAA,KAAA,CAAA,oBAAA,GAAA,EAAA;AACA,QAAA,WAAA,CAAA,IAAA,GANA,CAOA;AACA;AACA;AACA;AACA,OAXA;AAYA,MAAA,WAAA,CAAA,KAAA;AACA,KAlDA;AAmDA,IAAA,qBAnDA,iCAmDA,MAnDA,EAmDA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,CAAA,EAAA,WAAA,KAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;AArDA,GArBA;AA4EA,EAAA,OA5EA,qBA4EA;AACA,SAAA,kBAAA;AACA;AA9EA,CAAA","sourcesContent":["<template>\n<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css\">\n\n<v-card>\n    <v-card-text>\n      <v-layout row wrap justify-space-around>\n        <v-flex xs8 sm9 text-xs-center>\n          <p v-if=\"error\" class=\"grey--text\">{{error}}</p>\n          <p v-else class=\"mb-0\">\n            <span  v-for=\"(sentence,index) in sentences\" v-bind:key=\"index\">\n                \n                <span v-if=\"sentences.length > 0\">\n                    {{sentence}}. \n                </span>\n                \n                </span>\n            <span>{{runtimeTranscription}}</span>\n          </p>\n        </v-flex>\n        <v-flex xs2 sm1 text-xs-center>\n          <v-btn\n            dark\n            @click.stop=\"toggle ? endSpeechRecognition() : startSpeechRecognition()\"\n            icon\n            :color=\"!toggle ? 'grey' : (speaking ? 'red' : 'red darken-3')\"\n            :class=\"{'animated infinite pulse': toggle}\"\n          >\n            <!-- <v-icon>{{toggle ? 'mic_off' : 'mic'}}</v-icon> -->\n\n            <div v-if=\"!toggle\">\n              <i class=\"fa fa-microphone fa-2x\"/>\n            </div>\n            <div v-else>\n              <i class=\"fa fa-microphone-slash fa-2x\"/>\n            </div>\n\n          </v-btn>\n        </v-flex>\n      </v-layout>\n    </v-card-text>\n  </v-card>\n  \n</template>\n\n<script>\nlet SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition\nlet recognition = SpeechRecognition? new SpeechRecognition() : false\n\nexport default {\n    name: 'Speech2Text',\n    props: {\n    lang: {\n      type: String,\n      default: 'en-US'\n    },\n    text: {\n      type: [String, null],\n      required: true\n    }\n  },\n  data () {\n    return {\n      error: false,\n      speaking: false,\n      toggle: false,\n      runtimeTranscription: '',\n      sentences: []\n    }\n  },\n  methods: {\n    checkCompatibility () {\n      if (!recognition) {\n        this.error = 'Speech Recognition is not available on this browser. Please use Chrome or Firefox'\n      }\n    },\n    endSpeechRecognition () {\n      recognition.stop()\n      this.toggle = false\n      this.$emit('speechend', {\n        sentences: this.sentences,\n        text: this.sentences.join('. ')\n      })\n    },\n    startSpeechRecognition () {\n      if (!recognition) {\n        this.error = 'Speech Recognition is not available on this browser. Please use Chrome or Firefox'\n        return false\n      }\n      this.toggle = true\n      recognition.lang = this.lang\n      recognition.interimResults = true\n\n      recognition.addEventListener('speechstart', function() {\n        this.speaking = true\n      })\n\n      recognition.addEventListener('speechend', function() {\n        this.speaking = false\n      })\n\n      recognition.addEventListener('result', event => {\n        const text = Array.from(event.results).map(result => result[0]).map(result => result.transcript).join('')\n        this.runtimeTranscription = text\n        this.$emit('sentTexts', this.runtimeTranscription)\n      })\n\n      recognition.addEventListener('end', () => {\n        if (this.runtimeTranscription !== '') {\n          this.sentences.push(this.capitalizeFirstLetter(this.runtimeTranscription))\n          this.$emit('update:text', `${this.text}${this.sentences.slice(-1)[0]}. `)\n        }\n        this.runtimeTranscription = ''\n        recognition.stop()\n        // if (this.toggle) {\n        //   // keep it going.\n        //   recognition.start()\n        // }\n      })\n      recognition.start()\n    },\n    capitalizeFirstLetter (string) {\n      return string.charAt(0).toUpperCase() + string.slice(1)\n    }\n  },\n  mounted () {\n    this.checkCompatibility()\n  }\n}\n\n</script>\n\n<style>\n\n</style>"],"sourceRoot":"src/components"}]}